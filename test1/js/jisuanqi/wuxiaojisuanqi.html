<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>


   <div id="b">
    <h6>简单计算器</h6>
    <input type="text" placeholder="0" id="aa" style="font-size:20px;">
   </div>

    <script>
     var temp =0;
     var op="";
     var result=0;
     var a1=document.getElementById("b");
     var arr=[1,2,3,4,5,6,7,8,9,0,'.','+','-','*','/','%','=','C'];
     var arr1=new Array();
     var arr2=new Array();


     for (i=0;i<arr.length;i++){

         arr1=document.createElement("button");
         arr2=document.createTextNode(arr);
         a1.appendChild(arr1);
         arr1.appendChild(arr2);
          arr1.onclick=function(){
                  ftest(this);
              }
     }

     function ftest(btn){

         switch(btn.innerHTML){

             case '0':
             case '1':
             case '2':
             case '3':
             case '4':
             case '5':
             case '6':
             case '7':
             case '8':
             case '9':
                 temp*=10;
                 temp+=parseInt(btn.innerHTML);
                 document.getElementById('aa').value=temp;
                 break;


             case 'C':

               result=0;
               document.getElementById('aa').value=temp;
               temp=0;
               break;


            case '=':
                  result=cal(result,temp,op);
                  document.getElementById('aa').value=result;
                  temp=0;
                  break;

            case '+':
            case '-':
            case '*':
            case '/':
            case '%':
              result=cal(result,temp,op);
              op=btn.innerHTML;
              document.getElementById('aa').value=result;
              temp=0;
              break;




            }

        function cal(x,y,op){
               switch(op){
                    case '+':
                        x+=y;
                        break;
                    case '-':
                        x-=y;
                        break;
                    case '*':
                        x*=y;
                        break;
                    case '/':
                        x/=y;
                        break;
                    case '%':
                        x%=y;
                        break;
                    case '':
                        x=y;
                        break;
                }
                return x;
            }
      }
    </script>
  </body>
</html> 

